<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Documentation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app" id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-top">
                <div class="logo">ğŸ“¸</div>
                <div>
                    <h1>Image Documentation</h1>
                    <p class="subtitle">Search and manage your product images</p>
                </div>
                <button class="btn btn-outline" id="adminBtn" onclick="toggleAdmin()">ğŸ—„ï¸ Admin</button>
            </div>

            <div class="controls">
                <div class="search-wrap">
                    <span class="search-icon">ğŸ”</span>
                    <input type="text" id="searchInput" placeholder="Search images..." oninput="filterImages()">
                </div>
                <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">ğŸ“¤ Upload</button>
                <button class="btn btn-secondary" onclick="openCamera()">ğŸ“· Camera</button>
            </div>

            <div class="stats">
                <div class="stat"><span id="totalCount">0</span><small>Total</small></div>
                <div class="stat"><span id="foundCount">0</span><small>Found</small></div>
                <div class="stat"><span id="selectedCount">0</span><small>Selected</small></div>
            </div>
        </header>

        <input type="file" id="fileInput" accept="image/*" multiple hidden onchange="handleFileUpload(event)">

        <!-- Drop Zone -->
        <div class="dropzone" id="dropzone" onclick="document.getElementById('fileInput').click()">
            <p>ğŸ“‚ Drag and drop images here, or click to upload</p>
        </div>

        <!-- Image Grid (main view) -->
        <div class="image-grid" id="imageGrid"></div>

        <!-- Admin Table (hidden by default) -->
        <div class="admin-panel" id="adminPanel" style="display:none;">
            <div class="admin-header">
                <h2>ğŸ—„ï¸ Database Admin</h2>
                <button class="btn btn-secondary" onclick="toggleAdmin()">â† Back</button>
            </div>
            <table class="admin-table">
                <thead>
                    <tr><th>Image</th><th>Name</th><th>Date</th><th>Actions</th></tr>
                </thead>
                <tbody id="adminTableBody"></tbody>
            </table>
        </div>

        <!-- View Modal -->
        <div class="modal" id="viewModal">
            <div class="modal-content modal-large">
                <button class="modal-close" onclick="closeModal('viewModal')">âœ•</button>
                <img id="viewImage" src="" alt="">
                <div class="modal-info">
                    <h3 id="viewName"></h3>
                    <p id="viewDate"></p>
                </div>
            </div>
        </div>

        <!-- Edit Modal -->
        <div class="modal" id="editModal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeModal('editModal')">âœ•</button>
                <h3>Edit Image</h3>
                <label>Name</label>
                <input type="text" id="editName" class="input">
                <label>Date</label>
                <input type="date" id="editDate" class="input">
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('editModal')">Cancel</button>
                    <button class="btn btn-primary" onclick="saveEdit()">Save</button>
                </div>
            </div>
        </div>

        <!-- Delete Confirm Modal -->
        <div class="modal" id="deleteModal">
            <div class="modal-content">
                <h3>Delete Image</h3>
                <p>Are you sure? This cannot be undone.</p>
                <div class="modal-actions">
                    <button class="btn btn-secondary" onclick="closeModal('deleteModal')">Cancel</button>
                    <button class="btn btn-danger" onclick="confirmDelete()">Delete</button>
                </div>
            </div>
        </div>

        <!-- Camera Modal -->
        <div class="modal" id="cameraModal">
            <div class="modal-content modal-large">
                <button class="modal-close" onclick="closeCamera()">âœ•</button>
                <h3>Camera Capture</h3>
                <video id="cameraVideo" autoplay playsinline></video>
                <canvas id="cameraCanvas" hidden></canvas>
                <div class="modal-actions">
                    <button class="btn btn-primary" onclick="capturePhoto()">ğŸ“¸ Capture</button>
                    <button class="btn btn-secondary" onclick="closeCamera()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
